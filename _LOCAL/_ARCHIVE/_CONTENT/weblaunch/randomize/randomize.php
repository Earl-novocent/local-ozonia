<?phpif ($_SERVER['REQUEST_METHOD']=='POST'){	$file = $_POST['file'];	$base = strrpos($file,".")>0?substr($file,0,strrpos($file,".")):$file;	$str  = @file_get_contents($file);		if ($str!==false)	{		$match = array();				preg_match_all('/^(.*)\<a href=(.+)\>(.+)\<\/a\>(.*)$/m',$str,$match,PREG_SET_ORDER);		$matches   = count($match);				for ($j = 1;$j<11;$j++)		{			$generated = array();			$out       = '';						for ($i = 0;$i<10;$i++)			{				$link = rand(0,$matches-1);								while (in_array($link,$generated))				{					$link = rand(0,$matches-1);				}								$generated[] = $link;				$out .= $match[$link][0]."\r\n";			}						$f = @fopen($base.$j.'.shtml','w');						if ($f!==false)			{				@fwrite($f,$out);				@fclose($f);			}		}				echo 'Randomization complete';	}}?>